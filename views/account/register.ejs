<main>
  <h1><%= title %></h1>

  <!-- Flash Message -->
  <div class="flash-message">
    <%- messages() %>
  </div>

  <!-- Registration Form -->
  <form action="/account/register" method="POST" class="register-form">
    <label for="firstName">First Name:</label>
    <input type="text" id="firstName" name="firstName" required value="<%= typeof firstName !== 'undefined' ? firstName : '' %>">

    <label for="lastName">Last Name:</label>
    <input type="text" id="lastName" name="lastName" required value="<%= typeof lastName !== 'undefined' ? lastName : '' %>">

    <label for="email">Email Address:</label>
    <input type="email" id="email" name="email" required value="<%= typeof email !== 'undefined' ? email : '' %>">

    <label for="password">Password:</label>
    <input type="password" id="password" name="password" required pattern="(?=.*[A-Z])(?=.*[a-z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{12,}">
    <button type="button" id="togglePassword">Show/Hide Password</button>

    <button type="submit">Register</button>
  </form>
</main>

<script>
  // Password toggle functionality
  const togglePassword = document.getElementById('togglePassword');
  const passwordInput = document.getElementById('password');
  togglePassword.addEventListener('click', () => {
    const type = passwordInput.getAttribute('type') === 'password' ? 'text' : 'password';
    passwordInput.setAttribute('type', type);
  });
</script>